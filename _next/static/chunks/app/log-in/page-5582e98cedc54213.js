(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{7726:(e,t,r)=>{Promise.resolve().then(r.bind(r,9436))},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:A="",children:c,iconNode:d,...u}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:l("lucide",A),...u},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...A}=r;return(0,s.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(a(e)),o),...A})});return r.displayName="".concat(e),r}},5565:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(4146),a=r.n(s)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return o},getImageProps:function(){return i}});let s=r(306),a=r(666),l=r(7970),n=s._(r(5514));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/AIS-Web-Portal/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let o=l.Image},9436:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(5155),a=r(2115),l=r(6046),n=r(5565),i=r(8173),o=r.n(i),A=r(9803);let c=e=>{let{classname:t}=e;return(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("div",{className:"w-full bg-gradient-to-r from-[#4338CA] via-[#3B82F6] to-[#10B981] flex items-center p-3 ".concat(null!=t?t:""),children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(o(),{href:"/",className:"flex items-center",children:(0,s.jsx)("div",{className:"flex items-center transition-opacity duration-300 hover:opacity-50",children:(0,s.jsx)(n.default,{src:A.OZ,alt:"AIS Logo",width:150,height:40,className:"object-contain"})})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(n.default,{src:A.K1,alt:"NUS Logo",width:400,height:40,className:"object-contain"})})]})})})};var d=r(7401);let u=(0,d.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),g=(0,d.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,d.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),m={src:"/AIS-Web-Portal/_next/static/media/AIS_logo.0147a144.png",height:524,width:524,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVFXfpMaXFCWfZBV/ZFXfxMVf8/VfREXPtCWvhFXP9DWvpBWPZEXftDWvZCWfb0MpFSAAAAD3RSTlPxAJsu/QYjhLgQcVmz3r8W4eVnAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOklEQVR4nB3KuRHAMAwDMFKkJH/J/uP6zh0KgBr2L0JABCAciywMIMhkGJmzHla1Z/lgR6+X2Tu/IV4ihwEXrbbJVAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},f={src:"/AIS-Web-Portal/_next/static/media/login_picture.23a00fdd.png",height:2984,width:2981,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEX9/v/3+f/l7f/u8//a5f+4y//P3f+jvv98nf/D0f/1mqlWAAAAAnRSTlP+/EinvzwAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA0SURBVHicHcrHEcAwEAOxJXlB7r9hj/QGkKeIhXfSuwVlb38AFXsCzNkzkLi7nXseA5JU/B61AMLaFbpGAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},x=e=>{let{message:t,type:r="success",position:a="top"}=e;return(0,s.jsx)("div",{className:"w-full ".concat({success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[r]," border-b"),children:(0,s.jsx)("div",{className:"max-w-screen-xl mx-auto px-4 py-3",children:(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)("p",{className:"text-sm",children:t})})})})},p=e=>{let{username:t}=e,r=(0,s.jsxs)(s.Fragment,{children:["You are already logged in,"," ",(0,s.jsx)("span",{className:"font-medium",children:t}),"! Redirecting to dashboard..."]});return(0,s.jsx)(x,{message:r,type:"success",position:"top"})};r(347);var b=r(5398);function w(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),[A,d]=(0,a.useState)(!1),[x,w]=(0,a.useState)({username:"",password:"",rememberMe:!1}),[v,S]=(0,a.useState)(!1),[y,j]=(0,a.useState)("");(0,a.useEffect)(()=>{let t=localStorage.getItem("User");if(t)try{sessionStorage.setItem("User",t);let r=JSON.parse(t);j(r.username),S(!0);let s=setTimeout(()=>{e.push("/dashboard")},1500);return()=>clearTimeout(s)}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("User")}},[e]);let N=async t=>{t.preventDefault(),d(!0),o("");try{let t=await fetch("".concat("https://aistestingbackend-production.up.railway.app","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.username,password:x.password})}),r=await t.json();if(t.ok&&r.access_token){let t={username:x.username,token:r.access_token,refreshToken:r.refresh_token};x.rememberMe&&localStorage.setItem("User",JSON.stringify(t)),sessionStorage.setItem("User",JSON.stringify(t)),(0,b._f)(),e.push("/dashboard")}else o(r.detail||"Invalid username or password")}catch(e){o("An error occurred. Please try again later.")}finally{d(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,s.jsx)(c,{}),v&&(0,s.jsx)(p,{username:y}),(0,s.jsxs)("div",{className:"flex-1 flex",children:[(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-8",children:[(0,s.jsx)("div",{className:"mb-12 flex justify-center w-full",children:(0,s.jsx)(n.default,{src:m,alt:"AIS Logo",width:100,height:100,className:"text-indigo-600"})}),(0,s.jsxs)("form",{onSubmit:N,className:"w-full max-w-lg space-y-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Enter Your Username",className:"w-full px-4 py-3 border border-gray-200 rounded-lg pl-10 focus:outline-none focus:ring-2 focus:ring-indigo-600",value:x.username,onChange:e=>w({...x,username:e.target.value}),disabled:A}),(0,s.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center",children:(0,s.jsxs)("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,s.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,s.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:t?"text":"password",placeholder:"Enter Your Password",className:"w-full px-4 py-3 border border-gray-200 rounded-lg pl-10 pr-10 focus:outline-none focus:ring-2 focus:ring-indigo-600",value:x.password,onChange:e=>w({...x,password:e.target.value}),disabled:A}),(0,s.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center",children:(0,s.jsxs)("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,s.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,s.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-3 flex items-center",onClick:()=>r(!t),disabled:A,children:t?(0,s.jsx)(u,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(g,{className:"h-5 w-5 text-gray-400"})})]}),i&&(0,s.jsx)("div",{className:"text-red-600 text-sm text-center",children:i}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-indigo-600 rounded",checked:x.rememberMe,onChange:e=>w({...x,rememberMe:e.target.checked}),disabled:A}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),(0,s.jsx)("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-500 hover:underline",disabled:A,children:"Forgot Password?"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:A,children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Log In"}),(0,s.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"Note: Portal only works in NUS network."})]})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,s.jsx)(n.default,{src:f,alt:"Shipping Illustration",width:700,height:700,className:"object-contain"})})]})]})}},9803:(e,t,r)=>{"use strict";r.d(t,{K1:()=>l.default,Kt:()=>s.default,OZ:()=>a.default});var s=r(5063),a=r(4845);r(9611);var l=r(4438)},5398:(e,t,r)=>{"use strict";r.d(t,{_f:()=>l,dG:()=>n,in:()=>a});let s=null,a=()=>{let e=localStorage.getItem("User"),t=sessionStorage.getItem("User");return e&&!t?(sessionStorage.setItem("User",e),JSON.parse(e)):t?JSON.parse(t):null},l=()=>{s&&clearInterval(s);let e=async()=>{try{let e=a();if(!e||!e.refreshToken)throw Error("No valid refresh token found");let t=await fetch("".concat("https://aistestingbackend-production.up.railway.app","/refresh"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.refreshToken),"Content-Type":"application/json"}});if(t.ok){let r=await t.json();if(!r.access_token)throw Error("Invalid token response");let s={...e,token:r.access_token,refreshToken:r.refresh_token||e.refreshToken};sessionStorage.setItem("User",JSON.stringify(s)),localStorage.getItem("User")&&localStorage.setItem("User",JSON.stringify(s))}else clearInterval(s),sessionStorage.removeItem("User"),localStorage.removeItem("User"),window.history.pushState({},"","/log-in"),window.dispatchEvent(new PopStateEvent("popstate"))}catch(e){console.error("Token refresh failed:",e),clearInterval(s),sessionStorage.removeItem("User"),localStorage.removeItem("User"),console.error("Refresh error details:",{error:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString(),status:e instanceof Response?e.status:"unknown"}),window.history.pushState({},"","/log-in"),window.dispatchEvent(new PopStateEvent("popstate"))}};s=setInterval(e,36e5),e()},n=()=>{let e=localStorage.getItem("User")||sessionStorage.getItem("User");if(!e)return null;try{return JSON.parse(e).token}catch(e){return console.error("Error parsing user data:",e),null}}},347:()=>{},5063:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/AIS-Web-Portal/_next/static/media/C4NGP.6576cca0.png",height:432,width:3113,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEUDO34AMn90h5mYSo+UAAAAA3RSTlMZCkRi3zEiAAAACXBIWXMAACxLAAAsSwGlPZapAAAAEUlEQVR4nGNgYmBgYGBkZAQAAB8ABuQLKgcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1}},4438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/AIS-Web-Portal/_next/static/media/C4NGP_light.75713044.png",height:198,width:1704,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAADFBMVEX08vL////////+/v7VgwcqAAAABHRSTlMmGggOCBoX0QAAAAlwSFlzAAAsSwAALEsBpT2WqQAAABFJREFUeJxjYGBkYGBkZmYCAAAlAAuOExyNAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1}},9611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/AIS-Web-Portal/_next/static/media/logo_dark.a52efaf7.png",height:84,width:315,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAElBMVEXFzv/Gzv/Gzf/Gyv/Gz//Iz/8j0tjAAAAABnRSTlM4QEodKGbHpzilAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAF0lEQVR4nGNgZWBmZGFgZGBgYmBmAjEAAR8AG072dxEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}},4845:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/AIS-Web-Portal/_next/static/media/logo_light.24774a4c.png",height:168,width:629,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAElBMVEX///////////////////////+65XQCAAAABnRSTlMiNz9FTmdU9vaWAAAACXBIWXMAACxLAAAsSwGlPZapAAAAF0lEQVR4nGNgZWRgYmBkZmJgYWRgBjEAARUAHf3E5qQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,970,173,441,517,358],()=>t(7726)),_N_E=e.O()}]);