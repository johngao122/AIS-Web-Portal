<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.5.3">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>AIS Web Portal -  - Architecture -  | Documentation</title> <link rel="stylesheet" href="/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/markbind/css/codeblock-dark.min.css"><link rel="stylesheet" href="/markbind/css/markbind.min.css"><link rel="stylesheet" href="/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/stylesheets/main.css">
</head>
<script>
  const baseUrl = ''
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-7c0fd418><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-7c0fd418><div class="container-fluid" data-v-7c0fd418><div class="navbar-left" data-v-7c0fd418><a href="/index.html" title="Home" class="navbar-brand" data-v-7c0fd418>AIS Web Portal</a></div> <div class="navbar-default" data-v-7c0fd418><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-7c0fd418> <li data-v-7c0fd418><a href="/index.html" class="nav-link" data-v-7c0fd418>Home</a></li> <li data-v-7c0fd418><a href="/contents/getting-started.html" class="nav-link" data-v-7c0fd418>Getting Started</a></li> <li data-v-7c0fd418><a href="/contents/architecture.html" class="nav-link" data-v-7c0fd418>Architecture</a></li> <li class="nav-link dropdown" data-v-99624572><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-99624572>Components <span data-v-99624572></span></a> <ul class="dropdown-menu" data-v-99624572> <dropdown-header data-v-99624572>Map Components</dropdown-header> <li data-v-99624572><a href="/contents/components/map.html" class="dropdown-item" data-v-99624572>Map</a></li> <li data-v-99624572><a href="/contents/components/MapWithSearchbar.html" class="dropdown-item" data-v-99624572>MapWithSearchbar</a></li> <li data-v-99624572><a href="/contents/components/MapControls.html" class="dropdown-item" data-v-99624572>MapControls</a></li> <li data-v-99624572><a href="/contents/components/LayerSelect.html" class="dropdown-item" data-v-99624572>LayerSelect</a></li> <li data-v-99624572><a href="/contents/components/VesselLayer.html" class="dropdown-item" data-v-99624572>VesselLayer</a></li> <li data-v-99624572><a href="/contents/components/TerminalLayer.html" class="dropdown-item" data-v-99624572>TerminalLayer</a></li> <li data-v-99624572><a href="/contents/components/Searchbar.html" class="dropdown-item" data-v-99624572>Searchbar</a></li> <dropdown-divider data-v-99624572></dropdown-divider> <pre data-v-99624572><code data-v-99624572>  &lt;dropdown-header&gt;Vessel Components&lt;/dropdown-header&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/vessel.html&quot; class=&quot;dropdown-item&quot;&gt;Vessel Overview&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/VesselInfoPanel.html&quot; class=&quot;dropdown-item&quot;&gt;VesselInfoPanel&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/VesselInformationPanel.html&quot; class=&quot;dropdown-item&quot;&gt;VesselInformationPanel&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/VesselInformationFloatingActionButton.html&quot; class=&quot;dropdown-item&quot;&gt;VesselInformationFloatingActionButton&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/VesselActivityTable.html&quot; class=&quot;dropdown-item&quot;&gt;VesselActivityTable&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/VesselActivitySingle.html&quot; class=&quot;dropdown-item&quot;&gt;VesselActivitySingle&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/VesselActivitySingleWithArrow.html&quot; class=&quot;dropdown-item&quot;&gt;VesselActivitySingleWithArrow&lt;/a&gt;&lt;/li&gt;
  &lt;dropdown-divider&gt;&lt;/dropdown-divider&gt;
  
  &lt;dropdown-header&gt;Port Components&lt;/dropdown-header&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/port.html&quot; class=&quot;dropdown-item&quot;&gt;Port Overview&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/PortServiceTable.html&quot; class=&quot;dropdown-item&quot;&gt;PortServiceTable&lt;/a&gt;&lt;/li&gt;
  &lt;dropdown-divider&gt;&lt;/dropdown-divider&gt;
  
  &lt;dropdown-header&gt;Utility Components&lt;/dropdown-header&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/DatePicker.html&quot; class=&quot;dropdown-item&quot;&gt;DatePicker&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/TimeSlider.html&quot; class=&quot;dropdown-item&quot;&gt;TimeSlider&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/Alert.html&quot; class=&quot;dropdown-item&quot;&gt;Alert&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/contents/components/AutoLoginNotification.html&quot; class=&quot;dropdown-item&quot;&gt;AutoLoginNotification&lt;/a&gt;&lt;/li&gt;
&lt;/dropdown&gt;
&lt;li&gt;&lt;a href=&quot;/contents/api.html&quot; class=&quot;nav-link&quot;&gt;API&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/contents/deployment.html&quot; class=&quot;nav-link&quot;&gt;Deployment&lt;/a&gt;&lt;/li&gt;
&lt;li slot=&quot;right&quot;&gt;
  &lt;form class=&quot;navbar-form&quot;&gt;
    &lt;searchbar :data=&quot;searchData&quot; placeholder=&quot;Search&quot; :on-hit=&quot;searchCallback&quot; menu-align-right&gt;&lt;/searchbar&gt;
  &lt;/form&gt;
&lt;/li&gt;
</code></pre></ul></li></ul></div> <!----></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-7c0fd418><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-e6005420><div class="site-nav-top" data-v-e6005420><div class="fw-bold mb-2" style="font-size:1.25rem;" data-v-e6005420>Contents</div></div> <div class="nav-component slim-scroll" data-v-e6005420><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/index.html" data-v-e6005420>Home üè†</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/contents/getting-started.html" data-v-e6005420>Getting Started</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/contents/architecture.html" data-v-e6005420>Architecture</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420>Components 

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Map Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/map.html" data-v-e6005420>Map</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/MapWithSearchbar.html" data-v-e6005420>MapWithSearchbar</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/MapControls.html" data-v-e6005420>MapControls</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/LayerSelect.html" data-v-e6005420>LayerSelect</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselLayer.html" data-v-e6005420>VesselLayer</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/TerminalLayer.html" data-v-e6005420>TerminalLayer</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/Searchbar.html" data-v-e6005420>Searchbar</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Vessel Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/vessel.html" data-v-e6005420>Vessel Overview</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselInfoPanel.html" data-v-e6005420>VesselInfoPanel</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselInformationPanel.html" data-v-e6005420>VesselInformationPanel</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselInformationFloatingActionButton.html" data-v-e6005420>VesselInformationFloatingActionButton</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselActivityTable.html" data-v-e6005420>VesselActivityTable</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselActivitySingle.html" data-v-e6005420>VesselActivitySingle</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/VesselActivitySingleWithArrow.html" data-v-e6005420>VesselActivitySingleWithArrow</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Port Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/port.html" data-v-e6005420>Port Overview</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/PortServiceTable.html" data-v-e6005420>PortServiceTable</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Utility Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/DatePicker.html" data-v-e6005420>DatePicker</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/TimeSlider.html" data-v-e6005420>TimeSlider</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/Alert.html" data-v-e6005420>Alert</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/contents/components/AutoLoginNotification.html" data-v-e6005420>AutoLoginNotification</a></div></li></ul></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/contents/api.html" data-v-e6005420>API</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/contents/deployment.html" data-v-e6005420>Deployment</a></div></li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper"><div data-v-ef898034><nav aria-label="breadcrumb" class="breadcrumb-divider" data-v-ef898034><ol class="breadcrumb" data-v-ef898034><li class="notlink breadcrumb-marker" data-v-ef898034>
        ‚Ä∫‚Ä∫¬†¬†
      </li> </ol></nav></div> <h1 id="project-architecture">Project Architecture<a href="#project-architecture" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>This page describes the architecture of the AIS Web Portal, including its tech stack, directory structure, and data flow.</p> <h2 id="tech-stack">Tech Stack<a href="#tech-stack" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The AIS Web Portal is built using the following technologies:</p> <ul><li><strong>Frontend Framework</strong>: Next.js 15.x with React 19.x</li> <li><strong>Language</strong>: TypeScript 5.x</li> <li><strong>UI Components</strong>: Mantine, Radix UI, shadcn/ui</li> <li><strong>Map Visualization</strong>: deck.gl, Mapbox GL, react-map-gl</li> <li><strong>Data Handling</strong>: Lodash, date-fns, dayjs</li> <li><strong>Authentication</strong>: JWT-based auth system</li> <li><strong>Deployment</strong>: Docker, Vercel</li></ul> <h2 id="directory-structure">Directory Structure<a href="#directory-structure" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The project follows a structured organization to maintain code clarity and separation of concerns:</p> <pre><code class="hljs"><span>ais_web/
</span><span>‚îú‚îÄ‚îÄ .github/            # GitHub Actions workflows
</span><span>‚îú‚îÄ‚îÄ .next/              # Next.js build output
</span><span>‚îú‚îÄ‚îÄ node_modules/       # Dependencies
</span><span>‚îú‚îÄ‚îÄ public/             # Static assets
</span><span>‚îú‚îÄ‚îÄ src/
</span><span>‚îÇ   ‚îú‚îÄ‚îÄ app/            # Next.js app router pages
</span><span>‚îÇ   ‚îú‚îÄ‚îÄ components/     # React components
</span><span>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/         # UI components (shadcn/ui)
</span><span>‚îÇ   ‚îú‚îÄ‚îÄ data/           # Static data files
</span><span>‚îÇ   ‚îú‚îÄ‚îÄ lib/            # Utility libraries
</span><span>‚îÇ   ‚îú‚îÄ‚îÄ resources/      # Resources like images
</span><span>‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript type definitions
</span><span>‚îÇ   ‚îî‚îÄ‚îÄ utils/          # Utility functions
</span><span>‚îú‚îÄ‚îÄ .env                # Environment variables
</span><span>‚îú‚îÄ‚îÄ .env.local          # Local environment variables
</span><span>‚îú‚îÄ‚îÄ .env.production     # Production environment variables
</span><span>‚îú‚îÄ‚îÄ docker-compose.yml  # Docker Compose configuration
</span><span>‚îú‚îÄ‚îÄ Dockerfile          # Docker configuration
</span><span>‚îú‚îÄ‚îÄ next.config.ts      # Next.js configuration
</span><span>‚îú‚îÄ‚îÄ package.json        # Project dependencies
</span><span>‚îî‚îÄ‚îÄ tailwind.config.ts  # Tailwind CSS configuration
</span></code></pre><h2 id="core-components">Core Components<a href="#core-components" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The application is built around several core components that handle different aspects of the functionality:</p> <h3 id="map-components">Map Components<a href="#map-components" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>The map visualization is the central feature of the application, implemented primarily in <code class="hljs inline no-lang">src/components/MapWithSearchbar.tsx</code>. This component integrates:</p> <ul><li><strong>deck.gl</strong> for WebGL-based rendering</li> <li><strong>Mapbox GL</strong> for the base map layer</li> <li><strong>react-map-gl</strong> for React integration</li></ul> <p>Key map-related components:</p> <ul><li><code class="hljs inline no-lang">MapWithSearchbar.tsx</code>: Main map component with search functionality</li> <li><code class="hljs inline no-lang">Map.tsx</code>: Base map component</li> <li><code class="hljs inline no-lang">MapControls.tsx</code>: UI controls for the map (zoom, layers, etc.)</li> <li><code class="hljs inline no-lang">TerminalLayer.tsx</code>: Visualization of port terminals</li></ul> <h3 id="vessel-information-components">Vessel Information Components<a href="#vessel-information-components" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Components for displaying vessel information:</p> <ul><li><code class="hljs inline no-lang">VesselInfoPanel.tsx</code>: Panel showing detailed vessel information</li> <li><code class="hljs inline no-lang">VesselActivityTable.tsx</code>: Table of vessel activities</li> <li><code class="hljs inline no-lang">VesselActivitySingle.tsx</code>: Single vessel activity display</li> <li><code class="hljs inline no-lang">VesselInformationFloatingActionButton.tsx</code>: Floating action button for vessel info</li></ul> <h3 id="port-service-components">Port Service Components<a href="#port-service-components" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Components for port service analysis:</p> <ul><li><code class="hljs inline no-lang">PortServiceTable.tsx</code>: Table of port service metrics</li> <li><code class="hljs inline no-lang">PortServiceLevelFloatingActionButton.tsx</code>: Floating action button for port services</li></ul> <h3 id="ui-components">UI Components<a href="#ui-components" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>General UI components:</p> <ul><li><code class="hljs inline no-lang">Searchbar.tsx</code>: Search functionality for vessels</li> <li><code class="hljs inline no-lang">TimeSlider.tsx</code>: Slider for controlling time-based data</li> <li><code class="hljs inline no-lang">DatePicker.tsx</code>: Date selection component</li> <li><code class="hljs inline no-lang">TopBarWithUser.tsx</code>: Top navigation bar with user info</li></ul> <h2 id="data-flow">Data Flow<a href="#data-flow" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The application follows a unidirectional data flow:</p> <ol><li>User interacts with the UI (search, click, filter)</li> <li>Event handlers process the interaction</li> <li>API calls fetch data from the backend</li> <li>State is updated with the new data</li> <li>Components re-render with the updated state</li></ol> <div class="alert box-container alert-info" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper" data-v-474166ec><i class="fas fa-info" data-v-474166ec></i></div> <!----> <div class="contents" data-v-474166ec>
This architecture ensures that data flows in a predictable way, making the application easier to debug and maintain.
</div> <!----></div></div></div> <h2 id="state-management">State Management<a href="#state-management" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The application uses React's built-in state management with <code class="hljs inline no-lang">useState</code> and <code class="hljs inline no-lang">useEffect</code> hooks. Key state objects include:</p> <ul><li>Vessel data</li> <li>Map view state</li> <li>Selected vessel information</li> <li>Port service data</li> <li>Time range</li> <li>Filter states</li></ul> <p>Example of state management in a component:</p> <pre><code class="hljs typescript"><span><span class="hljs-comment">// View state for the map</span>
</span><span><span class="hljs-keyword">const</span> [viewState, setViewState] = useState(initialViewState);
</span><span>
</span><span><span class="hljs-comment">// Vessel data</span>
</span><span><span class="hljs-keyword">const</span> [vesselData, setVesselData] = useState&lt;VesselActivity[]&gt;([]);
</span><span><span class="hljs-keyword">const</span> [filteredVesselData, setFilteredVesselData] = useState&lt;VesselActivity[]&gt;(
</span><span>    []
</span><span>);
</span><span>
</span><span><span class="hljs-comment">// Selected vessel</span>
</span><span><span class="hljs-keyword">const</span> [selectedVessel, setSelectedVessel] = useState&lt;VesselActivity | <span class="hljs-literal">null</span>&gt;(
</span><span>    <span class="hljs-literal">null</span>
</span><span>);
</span><span>
</span><span><span class="hljs-comment">// UI states</span>
</span><span><span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">false</span>);
</span><span><span class="hljs-keyword">const</span> [error, setError] = useState&lt;<span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
</span></code></pre><h2 id="authentication">Authentication<a href="#authentication" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Authentication is managed in <code class="hljs inline no-lang">src/utils/auth.ts</code>, which provides:</p> <ul><li>Token management (storage, retrieval, refresh)</li> <li>User session handling</li> <li>Login/logout functionality</li></ul> <p>Key authentication functions:</p> <pre><code class="hljs typescript"><span><span class="hljs-comment">// Get the current user's token</span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getUserToken = (): <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>
</span><span>
</span><span><span class="hljs-comment">// Set up token refresh interval</span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> setupTokenRefresh = ()
</span><span>
</span><span><span class="hljs-comment">// Clear token refresh interval</span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> clearTokenRefresh = ()
</span><span>
</span><span><span class="hljs-comment">// Sync user data between localStorage and sessionStorage</span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> syncStorageOnLoad = ()
</span></code></pre></div> <nav id="page-nav" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#project-architecture" data-v-e6005420>Project Architecture‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#tech-stack" data-v-e6005420>Tech Stack‚Äé</a> <a class="nav-link py-1" href="#directory-structure" data-v-e6005420>Directory Structure‚Äé</a> <a class="nav-link py-1" href="#core-components" data-v-e6005420>Core Components‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#map-components" data-v-e6005420>Map Components‚Äé</a> <a class="nav-link py-1" href="#vessel-information-components" data-v-e6005420>Vessel Information Components‚Äé</a> <a class="nav-link py-1" href="#port-service-components" data-v-e6005420>Port Service Components‚Äé</a> <a class="nav-link py-1" href="#ui-components" data-v-e6005420>UI Components‚Äé</a></nav> <a class="nav-link py-1" href="#data-flow" data-v-e6005420>Data Flow‚Äé</a> <a class="nav-link py-1" href="#state-management" data-v-e6005420>State Management‚Äé</a> <a class="nav-link py-1" href="#authentication" data-v-e6005420>Authentication‚Äé</a></nav> <!----></nav></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>AIS Web Portal Documentation | [Generated by <a href="https://markbind.org/">MarkBind 5.5.3</a>]</small></div></footer></div>
</body><script src="/markbind/js/bootstrap-utility.min.js"></script>
<script src="/markbind/js/polyfill.min.js"></script>
<script src="/markbind/js/vue.min.js"></script>
<script src="/markbind/js/markbind.min.js"></script>
<script src="architecture.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
