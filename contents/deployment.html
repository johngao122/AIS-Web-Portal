<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.5.3">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>AIS Web Portal -  - Deployment -  | Documentation</title> <link rel="stylesheet" href="/AIS-Web-Portal/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/AIS-Web-Portal/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/AIS-Web-Portal/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/AIS-Web-Portal/markbind/css/codeblock-dark.min.css"><link rel="stylesheet" href="/AIS-Web-Portal/markbind/css/markbind.min.css"><link rel="stylesheet" href="/AIS-Web-Portal/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/AIS-Web-Portal/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/AIS-Web-Portal/stylesheets/main.css">
</head>
<script>
  const baseUrl = '/AIS-Web-Portal'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-7c0fd418><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-7c0fd418><div class="container-fluid" data-v-7c0fd418><div class="navbar-left" data-v-7c0fd418><a href="/AIS-Web-Portal/index.html" title="Home" class="navbar-brand" data-v-7c0fd418>AIS Web Portal</a></div> <div class="navbar-default" data-v-7c0fd418><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-7c0fd418> <li data-v-7c0fd418><a href="/AIS-Web-Portal/index.html" class="nav-link" data-v-7c0fd418>Home</a></li> <li data-v-7c0fd418><a href="/AIS-Web-Portal/contents/getting-started.html" class="nav-link" data-v-7c0fd418>Getting Started</a></li> <li data-v-7c0fd418><a href="/AIS-Web-Portal/contents/architecture.html" class="nav-link" data-v-7c0fd418>Architecture</a></li> <li class="nav-link dropdown" data-v-99624572><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-99624572>Components <span data-v-99624572></span></a> <ul class="dropdown-menu" data-v-99624572> <dropdown-header data-v-99624572>Map Components</dropdown-header> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/map.html" class="dropdown-item" data-v-99624572>Map</a></li> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/MapWithSearchbar.html" class="dropdown-item" data-v-99624572>MapWithSearchbar</a></li> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/MapControls.html" class="dropdown-item" data-v-99624572>MapControls</a></li> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/LayerSelect.html" class="dropdown-item" data-v-99624572>LayerSelect</a></li> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/VesselLayer.html" class="dropdown-item" data-v-99624572>VesselLayer</a></li> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/TerminalLayer.html" class="dropdown-item" data-v-99624572>TerminalLayer</a></li> <li data-v-99624572><a href="/AIS-Web-Portal/contents/components/Searchbar.html" class="dropdown-item" data-v-99624572>Searchbar</a></li> <dropdown-divider data-v-99624572></dropdown-divider> <pre data-v-99624572><code data-v-99624572>  <dropdown-header>Vessel Components</dropdown-header>
  <li><a href="/AIS-Web-Portal/contents/components/vessel.html" class="dropdown-item">Vessel Overview</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/VesselInfoPanel.html" class="dropdown-item">VesselInfoPanel</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/VesselInformationPanel.html" class="dropdown-item">VesselInformationPanel</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/VesselInformationFloatingActionButton.html" class="dropdown-item">VesselInformationFloatingActionButton</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/VesselActivityTable.html" class="dropdown-item">VesselActivityTable</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/VesselActivitySingle.html" class="dropdown-item">VesselActivitySingle</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/VesselActivitySingleWithArrow.html" class="dropdown-item">VesselActivitySingleWithArrow</a></li>
  <dropdown-divider></dropdown-divider>
  
  <dropdown-header>Port Components</dropdown-header>
  <li><a href="/AIS-Web-Portal/contents/components/port.html" class="dropdown-item">Port Overview</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/PortServiceTable.html" class="dropdown-item">PortServiceTable</a></li>
  <dropdown-divider></dropdown-divider>
  
  <dropdown-header>Utility Components</dropdown-header>
  <li><a href="/AIS-Web-Portal/contents/components/DatePicker.html" class="dropdown-item">DatePicker</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/TimeSlider.html" class="dropdown-item">TimeSlider</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/Alert.html" class="dropdown-item">Alert</a></li>
  <li><a href="/AIS-Web-Portal/contents/components/AutoLoginNotification.html" class="dropdown-item">AutoLoginNotification</a></li>
</dropdown>
<li><a href="/AIS-Web-Portal/contents/api.html" class="nav-link">API</a></li>
<li><a href="/AIS-Web-Portal/contents/deployment.html" class="nav-link">Deployment</a></li>
<li slot="right">
  <form class="navbar-form">
    <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right></searchbar>
  </form>
</li>
</code></pre></ul></li></ul></div> <!----></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-7c0fd418><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-e6005420><div class="site-nav-top" data-v-e6005420><div class="fw-bold mb-2" style="font-size:1.25rem;" data-v-e6005420>Contents</div></div> <div class="nav-component slim-scroll" data-v-e6005420><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/AIS-Web-Portal/index.html" data-v-e6005420>Home üè†</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/AIS-Web-Portal/contents/getting-started.html" data-v-e6005420>Getting Started</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/AIS-Web-Portal/contents/architecture.html" data-v-e6005420>Architecture</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420>Components 

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Map Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/map.html" data-v-e6005420>Map</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/MapWithSearchbar.html" data-v-e6005420>MapWithSearchbar</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/MapControls.html" data-v-e6005420>MapControls</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/LayerSelect.html" data-v-e6005420>LayerSelect</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselLayer.html" data-v-e6005420>VesselLayer</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/TerminalLayer.html" data-v-e6005420>TerminalLayer</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/Searchbar.html" data-v-e6005420>Searchbar</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Vessel Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/vessel.html" data-v-e6005420>Vessel Overview</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselInfoPanel.html" data-v-e6005420>VesselInfoPanel</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselInformationPanel.html" data-v-e6005420>VesselInformationPanel</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselInformationFloatingActionButton.html" data-v-e6005420>VesselInformationFloatingActionButton</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselActivityTable.html" data-v-e6005420>VesselActivityTable</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselActivitySingle.html" data-v-e6005420>VesselActivitySingle</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/VesselActivitySingleWithArrow.html" data-v-e6005420>VesselActivitySingleWithArrow</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Port Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/port.html" data-v-e6005420>Port Overview</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/PortServiceTable.html" data-v-e6005420>PortServiceTable</a></div></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420>Utility Components

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/DatePicker.html" data-v-e6005420>DatePicker</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/TimeSlider.html" data-v-e6005420>TimeSlider</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/Alert.html" data-v-e6005420>Alert</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-2" data-v-e6005420><a href="/AIS-Web-Portal/contents/components/AutoLoginNotification.html" data-v-e6005420>AutoLoginNotification</a></div></li></ul></li></ul></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/AIS-Web-Portal/contents/api.html" data-v-e6005420>API</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/AIS-Web-Portal/contents/deployment.html" data-v-e6005420>Deployment</a></div></li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper"><div data-v-ef898034><nav aria-label="breadcrumb" class="breadcrumb-divider" data-v-ef898034><ol class="breadcrumb" data-v-ef898034><li class="notlink breadcrumb-marker" data-v-ef898034>
        ‚Ä∫‚Ä∫¬†¬†
      </li> </ol></nav></div> <h1 id="deployment">Deployment<a href="#deployment" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>This page describes the deployment options for the AIS Web Portal.</p> <h2 id="docker-deployment">Docker Deployment<a href="#docker-deployment" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The project includes Docker configuration for containerized deployment.</p> <h3 id="prerequisites">Prerequisites<a href="#prerequisites" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ul><li>Docker installed on your system</li> <li>Docker Compose installed on your system</li> <li>Mapbox API key</li> <li>Backend API endpoint</li></ul> <h3 id="building-the-docker-image">Building the Docker Image<a href="#building-the-docker-image" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><p>Build the Docker image with your environment variables:</p> <pre><code class="hljs bash"><span>docker build \
</span><span>  --build-arg NEXT_PUBLIC_MAPBOX=<span class="hljs-string">"your_mapbox_api_key"</span> \
</span><span>  --build-arg NEXT_PUBLIC_API=<span class="hljs-string">"your_api_url"</span> \
</span><span>  -t johngao122/ais-web-portal:latest .
</span></code></pre></li> <li><p>Run with Docker Compose:</p> <pre><code class="hljs bash"><span>docker-compose up
</span></code></pre></li></ol> <h3 id="docker-compose-configuration">Docker Compose Configuration<a href="#docker-compose-configuration" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>The <code class="hljs inline no-lang">docker-compose.yml</code> file configures the container:</p> <pre><code class="hljs yaml"><span><span class="hljs-attr">version:</span> <span class="hljs-string">"3"</span>
</span><span>
</span><span><span class="hljs-attr">services:</span>
</span><span>    <span class="hljs-attr">ais-web:</span>
</span><span>        <span class="hljs-attr">image:</span> <span class="hljs-string">johngao122/ais-web-portal:latest</span>
</span><span>        <span class="hljs-attr">build:</span>
</span><span>            <span class="hljs-attr">context:</span> <span class="hljs-string">.</span>
</span><span>            <span class="hljs-attr">dockerfile:</span> <span class="hljs-string">Dockerfile</span>
</span><span>            <span class="hljs-attr">args:</span>
</span><span>                <span class="hljs-bullet">-</span> <span class="hljs-string">NEXT_PUBLIC_MAPBOX=${NEXT_PUBLIC_MAPBOX}</span>
</span><span>                <span class="hljs-bullet">-</span> <span class="hljs-string">NEXT_PUBLIC_API=${NEXT_PUBLIC_API}</span>
</span><span>        <span class="hljs-attr">ports:</span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-string">"3000:3000"</span>
</span><span>        <span class="hljs-attr">environment:</span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-string">NODE_ENV=production</span>
</span></code></pre><h3 id="dockerfile">Dockerfile<a href="#dockerfile" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>The <code class="hljs inline no-lang">Dockerfile</code> defines how the application is built and run:</p> <pre><code class="hljs dockerfile"><span><span class="hljs-comment"># Base image</span>
</span><span><span class="hljs-keyword">FROM</span> node:<span class="hljs-number">18</span>-alpine AS base
</span><span>
</span><span><span class="hljs-comment"># Install dependencies only when needed</span>
</span><span><span class="hljs-keyword">FROM</span> base AS deps
</span><span><span class="hljs-keyword">WORKDIR</span><span class="bash"> /app</span>
</span><span>
</span><span><span class="hljs-comment"># Copy package files</span>
</span><span><span class="hljs-keyword">COPY</span><span class="bash"> package.json package-lock.json ./</span>
</span><span>
</span><span><span class="hljs-comment"># Install dependencies</span>
</span><span><span class="hljs-keyword">RUN</span><span class="bash"> npm ci</span>
</span><span>
</span><span><span class="hljs-comment"># Rebuild the source code only when needed</span>
</span><span><span class="hljs-keyword">FROM</span> base AS builder
</span><span><span class="hljs-keyword">WORKDIR</span><span class="bash"> /app</span>
</span><span><span class="hljs-keyword">COPY</span><span class="bash"> --from=deps /app/node_modules ./node_modules</span>
</span><span><span class="hljs-keyword">COPY</span><span class="bash"> . .</span>
</span><span>
</span><span><span class="hljs-comment"># Build arguments for environment variables</span>
</span><span><span class="hljs-keyword">ARG</span> NEXT_PUBLIC_MAPBOX
</span><span><span class="hljs-keyword">ARG</span> NEXT_PUBLIC_API
</span><span>
</span><span><span class="hljs-comment"># Set environment variables</span>
</span><span><span class="hljs-keyword">ENV</span> NEXT_PUBLIC_MAPBOX=$NEXT_PUBLIC_MAPBOX
</span><span><span class="hljs-keyword">ENV</span> NEXT_PUBLIC_API=$NEXT_PUBLIC_API
</span><span>
</span><span><span class="hljs-comment"># Build the application</span>
</span><span><span class="hljs-keyword">RUN</span><span class="bash"> npm run build</span>
</span><span>
</span><span><span class="hljs-comment"># Production image, copy all the files and run next</span>
</span><span><span class="hljs-keyword">FROM</span> base AS runner
</span><span><span class="hljs-keyword">WORKDIR</span><span class="bash"> /app</span>
</span><span>
</span><span><span class="hljs-keyword">ENV</span> NODE_ENV production
</span><span>
</span><span><span class="hljs-comment"># Copy necessary files from builder</span>
</span><span><span class="hljs-keyword">COPY</span><span class="bash"> --from=builder /app/public ./public</span>
</span><span><span class="hljs-keyword">COPY</span><span class="bash"> --from=builder /app/.next/standalone ./</span>
</span><span><span class="hljs-keyword">COPY</span><span class="bash"> --from=builder /app/.next/static ./.next/static</span>
</span><span>
</span><span><span class="hljs-comment"># Expose port</span>
</span><span><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">3000</span>
</span><span>
</span><span><span class="hljs-comment"># Set the command to run the application</span>
</span><span><span class="hljs-keyword">CMD</span><span class="bash"> [<span class="hljs-string">"node"</span>, <span class="hljs-string">"server.js"</span>]</span>
</span></code></pre><h2 id="vercel-deployment">Vercel Deployment<a href="#vercel-deployment" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The project is configured for deployment on Vercel, which provides a seamless experience for Next.js applications.</p> <h3 id="steps-for-vercel-deployment">Steps for Vercel Deployment<a href="#steps-for-vercel-deployment" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><p>Connect your GitHub repository to Vercel:</p> <ul><li>Sign up or log in to <a href="https://vercel.com">Vercel</a></li> <li>Click "Import Project" and select your GitHub repository</li> <li>Follow the prompts to connect your repository</li></ul></li> <li><p>Configure environment variables in Vercel dashboard:</p> <ul><li>Go to your project settings</li> <li>Add the following environment variables:
<ul><li><code class="hljs inline no-lang">NEXT_PUBLIC_MAPBOX</code>: Your Mapbox API key</li> <li><code class="hljs inline no-lang">NEXT_PUBLIC_API</code>: Your API URL</li></ul></li></ul></li> <li><p>Deploy the application:</p> <ul><li>Vercel will automatically deploy your application</li> <li>Each push to the main branch will trigger a new deployment</li></ul></li></ol> <h3 id="vercel-configuration">Vercel Configuration<a href="#vercel-configuration" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>The project includes a <code class="hljs inline no-lang">vercel.json</code> file for custom configuration:</p> <pre><code class="hljs json"><span>{
</span><span>    <span class="hljs-attr">"version"</span>: <span class="hljs-number">2</span>,
</span><span>    <span class="hljs-attr">"builds"</span>: [
</span><span>        {
</span><span>            <span class="hljs-attr">"src"</span>: <span class="hljs-string">"package.json"</span>,
</span><span>            <span class="hljs-attr">"use"</span>: <span class="hljs-string">"@vercel/next"</span>
</span><span>        }
</span><span>    ],
</span><span>    <span class="hljs-attr">"routes"</span>: [
</span><span>        {
</span><span>            <span class="hljs-attr">"src"</span>: <span class="hljs-string">"/(.*)"</span>,
</span><span>            <span class="hljs-attr">"dest"</span>: <span class="hljs-string">"/$1"</span>
</span><span>        }
</span><span>    ]
</span><span>}
</span></code></pre><h2 id="github-pages-deployment">GitHub Pages Deployment<a href="#github-pages-deployment" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The project can also be deployed to GitHub Pages using the built-in scripts.</p> <h3 id="steps-for-github-pages-deployment">Steps for GitHub Pages Deployment<a href="#steps-for-github-pages-deployment" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><p>Build the application:</p> <pre><code class="hljs bash"><span>npm run build
</span></code></pre></li> <li><p>Export the application to static HTML:</p> <pre><code class="hljs bash"><span>npm run <span class="hljs-built_in">export</span>
</span></code></pre></li> <li><p>Deploy to GitHub Pages:</p> <pre><code class="hljs bash"><span>npm run deploy
</span></code></pre></li></ol> <p>This will deploy the contents of the <code class="hljs inline no-lang">out</code> directory to the <code class="hljs inline no-lang">gh-pages</code> branch of your repository.</p> <h2 id="environment-variables">Environment Variables<a href="#environment-variables" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Regardless of the deployment method, you need to configure the following environment variables:</p> <ul><li><code class="hljs inline no-lang">NEXT_PUBLIC_MAPBOX</code>: Your Mapbox API key</li> <li><code class="hljs inline no-lang">NEXT_PUBLIC_API</code>: Your API URL</li></ul> <h2 id="continuous-integration">Continuous Integration<a href="#continuous-integration" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The project uses GitHub Actions for CI/CD. The workflow is defined in <code class="hljs inline no-lang">.github/workflows/deploy.yml</code>:</p> <pre><code class="hljs yaml"><span><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span>
</span><span>
</span><span><span class="hljs-attr">on:</span>
</span><span>    <span class="hljs-attr">push:</span>
</span><span>        <span class="hljs-attr">branches:</span> [<span class="hljs-string">main</span>]
</span><span>
</span><span><span class="hljs-attr">jobs:</span>
</span><span>    <span class="hljs-attr">build-and-deploy:</span>
</span><span>        <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
</span><span>        <span class="hljs-attr">steps:</span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span>
</span><span>              <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>
</span><span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node.js</span>
</span><span>              <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v2</span>
</span><span>              <span class="hljs-attr">with:</span>
</span><span>                  <span class="hljs-attr">node-version:</span> <span class="hljs-string">"18"</span>
</span><span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span>
</span><span>              <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">ci</span>
</span><span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span>
</span><span>              <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
</span><span>              <span class="hljs-attr">env:</span>
</span><span>                  <span class="hljs-attr">NEXT_PUBLIC_MAPBOX:</span> <span class="hljs-string">$</span>
</span><span>                  <span class="hljs-attr">NEXT_PUBLIC_API:</span> <span class="hljs-string">$</span>
</span><span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Export</span>
</span><span>              <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">export</span>
</span><span>
</span><span>            <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span>
</span><span>              <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@4.1.4</span>
</span><span>              <span class="hljs-attr">with:</span>
</span><span>                  <span class="hljs-attr">branch:</span> <span class="hljs-string">gh-pages</span>
</span><span>                  <span class="hljs-attr">folder:</span> <span class="hljs-string">out</span>
</span></code></pre><p>This workflow automatically deploys your application to GitHub Pages whenever you push to the main branch.</p></div> <nav id="page-nav" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#deployment" data-v-e6005420>Deployment‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#docker-deployment" data-v-e6005420>Docker Deployment‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#prerequisites" data-v-e6005420>Prerequisites‚Äé</a> <a class="nav-link py-1" href="#building-the-docker-image" data-v-e6005420>Building the Docker Image‚Äé</a> <a class="nav-link py-1" href="#docker-compose-configuration" data-v-e6005420>Docker Compose Configuration‚Äé</a> <a class="nav-link py-1" href="#dockerfile" data-v-e6005420>Dockerfile‚Äé</a></nav> <a class="nav-link py-1" href="#vercel-deployment" data-v-e6005420>Vercel Deployment‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#steps-for-vercel-deployment" data-v-e6005420>Steps for Vercel Deployment‚Äé</a> <a class="nav-link py-1" href="#vercel-configuration" data-v-e6005420>Vercel Configuration‚Äé</a></nav> <a class="nav-link py-1" href="#github-pages-deployment" data-v-e6005420>GitHub Pages Deployment‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#steps-for-github-pages-deployment" data-v-e6005420>Steps for GitHub Pages Deployment‚Äé</a></nav> <a class="nav-link py-1" href="#environment-variables" data-v-e6005420>Environment Variables‚Äé</a> <a class="nav-link py-1" href="#continuous-integration" data-v-e6005420>Continuous Integration‚Äé</a></nav> <!----></nav></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>AIS Web Portal Documentation | [Generated by <a href="https://markbind.org/">MarkBind 5.5.3</a>]</small></div></footer></div>
</body><script src="/AIS-Web-Portal/markbind/js/bootstrap-utility.min.js"></script>
<script src="/AIS-Web-Portal/markbind/js/polyfill.min.js"></script>
<script src="/AIS-Web-Portal/markbind/js/vue.min.js"></script>
<script src="/AIS-Web-Portal/markbind/js/markbind.min.js"></script>
<script src="/AIS-Web-Portal/contents/deployment.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
